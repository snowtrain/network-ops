{% extends 'base.html' %}

{% block head %}
    {% load static %}
    <!-- DataTables -->
    <link rel="stylesheet" href="{% static 'plugins/datatables/dataTables.bootstrap4.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/datatables/buttons.bootstrap4.min.css' %}">
{% endblock head %}

{% block js %}
    {% load static %}
    <!-- Required datatable js -->
    <script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'plugins/datatables/dataTables.bootstrap4.min.js' %}"></script>

    <!-- Buttons examples -->
    <script src="{% static 'plugins/datatables/dataTables.buttons.min.js' %}"></script>
    <script src="{% static 'plugins/datatables/buttons.bootstrap4.min.js' %}"></script>
    <script src="{% static 'plugins/datatables/jszip.min.js' %}"></script>
    <script src="{% static 'plugins/datatables/pdfmake.min.js' %}"></script>
    <script src="{% static 'plugins/datatables/vfs_fonts.js' %}"></script>
    <script src="{% static 'plugins/datatables/buttons.html5.min.js' %}"></script>
    <script src="{% static 'plugins/datatables/buttons.print.min.js' %}"></script>
{% endblock js %}

{% block body %}

    <div class="container-fluid">

        <div class="content-page">

            <!-- Top Bar Start -->
            <div class="topbar">

                <div class="row">
                    <div class="col-12">
                        <div class="card-box table-responsive">
                            <h4 class="m-t-0 header-title">设备类型列表</h4>
                            <p class="text-muted font-14 m-b-30">
                                等待编辑！
                            </p>

                            <table id="datatable-buttons" class="table table-striped table-bordered" cellspacing="0"
                                   width="100%">
                                <thead class="thead-dark">
                                <tr>
                                    <th class="text-center">编号</th>
                                    <th class="text-center">设备类型</th>
                                    <th class="text-center">操作</th>
                                </tr>
                                </thead>
                                <tbody class="text-center">

                                {% for device_type in device_type_list %}
                                    <tr>
                                        <td>{{ forloop.counter }}</td>
                                        <td>{{ device_type.name }}</td>
                                        <td align="center" valign="center"><a href="{{ device_type.id_delete }}"
                                                                              onclick="return confirmAct();"
                                                                              data-toggle="tooltip"
                                                                              data-placement="top" title="删除此设备类型"
                                                                              class="badge badge-danger">删除</a>
                                            <a href="{{ device_type.id_edit }}" data-toggle="tooltip"
                                               data-placement="top"
                                               title="编辑此设备类型" class="badge badge-success">编辑</a>
                                        </td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {# 渲染DataTable #}
    <script type="text/javascript">
        $(document).ready(function () {

            //Buttons examples
            var table = $('#datatable-buttons').DataTable({
                lengthChange: false,
                buttons: ['copy', 'excel', 'pdf']
            });
            $('#datatable-buttons tbody').on('click', 'tr', function () {
                if ($(this).hasClass('selected')) {
                    $(this).removeClass('selected');
                }
                else {
                    table.$('tr.selected').removeClass('selected');
                    $(this).addClass('selected');
                }
            });

            table.buttons().container()
                .appendTo('#datatable-buttons_wrapper .col-md-6:eq(0)');
        });

    </script>

    {# 提示删除确认警告的JavaScript #}
    <script type="text/javascript" language="javascript">
        <!--
        function confirmAct() {
            if (confirm('确定要执行此删除操作吗?')) {
                return true;
            }
            return false;
        }

        //-->
    </script>
{% endblock body %}
